{% extends "base.html" %}
{% block title %}{% endblock %}

<!-- CSS Code -->
{% block style_css %}
<style type="text/css">
  .delete-row {
    margin-left:5px;
  }

</style>

<link rel='stylesheet' href='{{STATIC_URL}}css/redmond/jquery-ui-1.8.23.custom.css'/>

{% endblock %}

<!-- JavaScript Code -->
{% block js_code %}
<script type="text/javascript">
    // Define this so we don't have to bother with the admin jsi18n stuff:
    function gettext(msgid) { return msgid; }
</script>
<script src='{{STATIC_URL}}js/jquery.formset.js'></script>
<script type="text/javascript">
$(function() {
  $('#id_doctosIn_table tbody tr').formset({
    prefix: '{{ formset.prefix }}',
    addCssClass:'btn btn-success',
    addText:'Nuevo Articulo',
    deleteText:'',
  });
});

</script>
{% endblock %}

{% block content %}

<form method="post" class="form-horizontal" action="" width="300px"  enctype='multipart/form-data'>
  {% csrf_token %}
  {{ doctosInForm.errors }}
  <br>
<!-- 
  CANCELADO:  {{ doctosInForm.cancelado }}
  Aplicado: {{ doctosInForm.aplicado }}
  Forma emitida: {{ doctosInForm.forma_emitida }}
  Contabilizado: {{ doctosInForm.contabilizado }}
  Naturaleza: {{ doctosInForm.naturaleza_concepto }}
  SISTEMA ORIGEN: {{ doctosInForm.sistema_origen }} 
  USUARIO CREADO: {{ doctosInForm.usuario_creador }}
  FECHA CREACION: {{ doctosInForm.fechahora_creacion }}
  USUARIO ULTIMA MODIFICACION: {{ doctosInForm.usuario_ult_modif }}
  FECHA ULTIMA MODIFICACION: {{ doctosInForm.fechahora_ult_modif }} -->
  
  <div class="control-group">
    <label class="control-label" for="id_code">Almacen</label>
    <div class="controls">
      {{ doctosInForm.almacen }}
      <!-- <a href="/user/" TARGET="_blank"><i class="icon-plus"></i></a> -->
    </div>
  </div>
  <div class="control-group">
    <label class="control-label" for="id_code">Concepto</label>
    <div class="controls">
      {{ doctosInForm.conceptoIn }}
    </div>
  </div>
  <div class="control-group">
    <label class="control-label" for="id_code">Folio</label>
    <div class="controls">
      {{ doctosInForm.folio }}
    </div>
  </div>
  <div class="control-group">
    <label class="control-label" for="id_code">Descripcion</label>
    <div class="controls">
      {{ doctosInForm.descripcion }}
    </div>
  </div>
  <div id="doctosIn_data">
    <fieldset>
      <table class="table tableCell table-hover" id="id_doctosIn_table" border="0" cellpadding="0" cellspacing="5">
        <thead>
          <tr>
            <th>Articulo</th>
            <th>Unidades</th>
            <th>Precio</th>
            <th>Total</th>
          </tr>
        </thead>
        <tbody>
          {% for form in formset.forms %}
          {{ form.errors }}
          <tr id="{{ form.prefix }}-row" class="form-container">
            {% for fld in form.hidden_fields %}{{ fld }}{% endfor %}
            <td>{% if form.instance.pk %}{{ form.DELETE }}{% endif %}{{ form.articulo }}
              {{ form.conceptoIn }}</td>
            <td>{{ form.unidades }}</td>
            <td>{{ form.costo_unitario }}</td>
            <td>{{ form.costo_total }}</td>

          </tr>
          {% endfor %}
        </tbody>
      </table>
    </fieldset>
    {{ formset.management_form }}
  </div>
  <div class="control-group">
    <div class="controls">
      <input type="submit" class="btn btn-primary" value="Guardar y Salir" />
    </div>
  </div>
</form>
<br><br><br><br><br><br><br><br><br><br><br>
{% endblock %}